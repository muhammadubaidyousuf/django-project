{% extends '../base.html' %}
{% block body %}

<title>My Account - {{ request.user|title }} - Bukinow </title>
{% include 'include/_navbar.html' %}
{% include 'include/_sidebar.html' %}
{% load static %}
<div class="add-car-main-body">
{% include 'include/_head-nav-bar.html' %}   
<div class="rps-img-div">
	{% if messages %}
		{% for message in messages %}
			{{message}}
		{% endfor %}
	{% endif %}
</div>
		<div class="res-form-card">
		<form action="" method="POST" enctype="multipart/form-data">

			{% csrf_token %}
			<div class="rps-label-div">
				<label class="rps-label" for="c-title">Post Title</label>
				<input class="responsiv-input" type="text" name="c-title" placeholder="Title" required>
			</div>

			<div class="rps-label-div">
				<label class="rps-label" for="c-car-name">Chose A Car</label>
				<select class="responsiv-input" id="showimage" name="c-car-name" required>
					<option value="">Select Car</option>
					{% for car in get_imgs %}
						<option value="{{ car.name_img }}">{{ car.name_img | title}}</option>
					{% endfor %}
				</select>
			</div>

			<div class="rps-label-div upload-cars-imgs">
				<label class="rps-label" for="c-title">Upload Files</label><br>
				<input type="file" name="c-select-image" required>
			</div>

			<div class="rps-label-div">
				<div class="showImage"></div>
				<span id="showText"></span>
			</div>

			<div class="rps-label-div">
				<input type="hidden" id="c-let" name="c-let-1">
				<input type="hidden" id="c-log" name="c-log-2">
			</div>	

			<div class="rps-label-div">
				<label class="rps-label" for="c-color">Car Color</label>
				<select class="responsiv-input" name="c-color" required>
					<option value="">Color</option>
					<option value="red">Red</option>
					<option value="blue">Blue</option>
					<option value="black">Black</option>
					<option value="gray">Gray</option>
					<option value="white">White</option>
				</select>
			</div>

			<div class="rps-label-div">
				<label class="rps-label" for="c-par-day-price">Per Day Rent</label>
				<input class="responsiv-input" type="text" name="c-par-day-price" placeholder="Price" required>
			</div>	

			<div class="rps-label-div">
				<label class="rps-label" for="c-model">Car Model Year</label>
				<select class="responsiv-input" name="c-model" required>
					<option value="">Car Year</option>
					{% for year in years %}
					<option value="{{ year }}">{{ year }}</option>
					{% endfor %}
				</select>
			</div>	

			<div class="rps-label-div">	
				<label class="rps-label" for="c-model">Address</label>
				<input class="responsiv-input" type="text" name="c-address" placeholder="Address" required>
			</div>

			<div class="rps-label-div">
				<label class="rps-label" for="c-number-plate">License No Plate</label>
				<input class="responsiv-input" type="text" name="c-number-plate" placeholder="License Plate" required>
			</div>	

			<div class="rps-label-div">
				<label class="rps-label" for="c-self-driver">You Giving Driver</label>
				<select class="responsiv-input" name="c-self-driver" required>
					<option value="">Driver</option>
					<option value="yes">Yes</option>
					<option value="no">No</option>
				</select>
			</div>	

			<div class="rps-label-div textarea-inp">
				<label class="rps-label" for="c-dec">Type Some Details </label>
				<textarea class="responsiv-input" name="c-dec" placeholder="Write Some About" required="Fill this fild"></textarea>
			</div>
			<div class="rps-label-div">
				<button class="submit-btn" id="add-car-submit" type="submit" name="add-post">Submit</button>
			</div>	
		</form>

	</div>
</div>

<script>
	function previewImages() {

	  var preview = document.querySelector('#preview');
	  
	  if (this.files) {
	    [].forEach.call(this.files, readAndPreview);
	  }

	  function readAndPreview(file) {

	    if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
	      return alert(file.name + " is not an image");
	    }
	    
	    var reader = new FileReader();
	    
	    reader.addEventListener("load", function() {
	      var image = new Image();
	      image.height = 100;
	      image.width = 100;
	      image.title  = file.name;
	      image.src    = this.result;
	      preview.appendChild(image);
	    });
	    
	    reader.readAsDataURL(file);
	    
	  }

	}
	document.querySelector('#file-input').addEventListener("change", previewImages);
</script>


{% include 'include/_footer.html' %}
{% endblock %}
